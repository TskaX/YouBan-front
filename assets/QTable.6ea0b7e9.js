import{a as Pe,f as v,E as ot,K as wl,ag as Rt,j as Ve,Y as bt,Z as yt,d as m,H as Cl,b as I,w as Y,aj as xl,ak as Bt,al,am as ol,o as Le,I as he,G as Ft,N as il,J as it,h as Mt,an as At,ao as ul,ap as rl,aq as sl,ar as cl,as as at,at as It,au as ql,av as $t,aw as kl,R as _l,ax as Pl,ay as Vl,az as Tl,aA as pl,aB as Ol,aC as Rl,aD as Bl,aE as Fl,aF as Ml,aG as Al,aH as El,aI as Dt,T as Ll,aJ as zl,aK as Hl,aL as Il,aM as $l,aN as Ae,X as Dl,aO as Nl,a5 as jl,a4 as Wl,aP as Nt,aQ as et,aR as Qe,aS as Ql,a2 as Kl,aT as Ul,aU as Xl,aV as Yl,aW as Gl,aX as jt,aY as pt,aZ as Wt,a0 as Jl,a_ as Zl,a$ as Pt,a1 as tt,Q as vt,b0 as en}from"./index.f9e4126b.js";import{Q as tn,c as ln,a as nn,b as an}from"./selection.bf6719bc.js";import{Q as on}from"./QChip.40f28c3a.js";import{n as Qt}from"./format.3e32b8d9.js";var un=Pe({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:n}){const a=Ve(),{proxy:{$q:i}}=a,r=u=>{n("click",u)};return()=>{if(e.props===void 0)return v("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:r},ot(l.default));let u,c;const d=a.vnode.key;if(d){if(u=e.props.colsMap[d],u===void 0)return}else u=e.props.col;if(u.sortable===!0){const o=u.align==="right"?"unshift":"push";c=wl(l.default,[]),c[o](v(Rt,{class:u.__iconClass,name:i.iconSet.table.arrowUp}))}else c=ot(l.default);const g={class:u.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:u.headerStyle,onClick:o=>{u.sortable===!0&&e.props.sort(u),r(o)}};return v("th",g,c)}}});const rn=["horizontal","vertical","cell","none"];var sn=Pe({name:"QMarkupTable",props:{...bt,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>rn.includes(e)}},setup(e,{slots:l}){const n=Ve(),a=yt(e,n.proxy.$q),i=m(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(a.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>v("div",{class:i.value},[v("table",{class:"q-table"},ot(l.default))])}});function dl(e,l){return v("div",e,[v("table",{class:"q-table"},l)])}let gt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,gt=e.scrollLeft>=0,e.remove()}const Se=1e3,cn=["start","center","end","start-force","center-force","end-force"],fl=Array.prototype.filter,dn=window.getComputedStyle(document.body).overflowAnchor===void 0?Cl:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];fl.call(n,i=>i.dataset&&i.dataset.qVsAnchor!==void 0).forEach(i=>{delete i.dataset.qVsAnchor});const a=n[l];a&&a.dataset&&(a.dataset.qVsAnchor="")}))};function Ke(e,l){return e+l}function Vt(e,l,n,a,i,r,u,c){const d=e===window?document.scrollingElement||document.documentElement:e,g=i===!0?"offsetWidth":"offsetHeight",o={scrollStart:0,scrollViewSize:-u-c,scrollMaxSize:0,offsetStart:-u,offsetEnd:-c};if(i===!0?(e===window?(o.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o.scrollViewSize+=document.documentElement.clientWidth):(o.scrollStart=d.scrollLeft,o.scrollViewSize+=d.clientWidth),o.scrollMaxSize=d.scrollWidth,r===!0&&(o.scrollStart=(gt===!0?o.scrollMaxSize-o.scrollViewSize:0)-o.scrollStart)):(e===window?(o.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,o.scrollViewSize+=document.documentElement.clientHeight):(o.scrollStart=d.scrollTop,o.scrollViewSize+=d.clientHeight),o.scrollMaxSize=d.scrollHeight),n!==null)for(let h=n.previousElementSibling;h!==null;h=h.previousElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(o.offsetStart+=h[g]);if(a!==null)for(let h=a.nextElementSibling;h!==null;h=h.nextElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(o.offsetEnd+=h[g]);if(l!==e){const h=d.getBoundingClientRect(),q=l.getBoundingClientRect();i===!0?(o.offsetStart+=q.left-h.left,o.offsetEnd-=q.width):(o.offsetStart+=q.top-h.top,o.offsetEnd-=q.height),e!==window&&(o.offsetStart+=o.scrollStart),o.offsetEnd+=o.scrollMaxSize-o.offsetStart}return o}function Kt(e,l,n,a){l==="end"&&(l=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(a===!0&&(l=(gt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):n===!0?(a===!0&&(l=(gt===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function lt(e,l,n,a){if(n>=a)return 0;const i=l.length,r=Math.floor(n/Se),u=Math.floor((a-1)/Se)+1;let c=e.slice(r,u).reduce(Ke,0);return n%Se!==0&&(c-=l.slice(r*Se,n).reduce(Ke,0)),a%Se!==0&&a!==i&&(c-=l.slice(a,u*Se).reduce(Ke,0)),c}const vl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ml=Object.keys(vl),gl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...vl};function hl({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:n,virtualScrollItemSizeComputed:a}){const i=Ve(),{props:r,emit:u,proxy:c}=i,{$q:d}=c;let g,o,h,q=[],f;const T=I(0),_=I(0),O=I({}),D=I(null),L=I(null),j=I(null),F=I({from:0,to:0}),A=m(()=>r.tableColspan!==void 0?r.tableColspan:100);a===void 0&&(a=m(()=>r.virtualScrollItemSize));const Z=m(()=>a.value+";"+r.virtualScrollHorizontal),ie=m(()=>Z.value+";"+r.virtualScrollSliceRatioBefore+";"+r.virtualScrollSliceRatioAfter);Y(ie,()=>{ue()}),Y(Z,se);function se(){de(o,!0)}function fe(b){de(b===void 0?o:b)}function J(b,k){const R=l();if(R==null||R.nodeType===8)return;const H=Vt(R,n(),D.value,L.value,r.virtualScrollHorizontal,d.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd);h!==H.scrollViewSize&&ue(H.scrollViewSize),be(R,H,Math.min(e.value-1,Math.max(0,parseInt(b,10)||0)),0,cn.indexOf(k)>-1?k:o>-1&&b>o?"end":"start")}function G(){const b=l();if(b==null||b.nodeType===8)return;const k=Vt(b,n(),D.value,L.value,r.virtualScrollHorizontal,d.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd),R=e.value-1,H=k.scrollMaxSize-k.offsetStart-k.offsetEnd-_.value;if(g===k.scrollStart)return;if(k.scrollMaxSize<=0){be(b,k,0,0);return}h!==k.scrollViewSize&&ue(k.scrollViewSize),ce(F.value.from);const K=Math.floor(k.scrollMaxSize-Math.max(k.scrollViewSize,k.offsetEnd)-Math.min(f[R],k.scrollViewSize/2));if(K>0&&Math.ceil(k.scrollStart)>=K){be(b,k,R,k.scrollMaxSize-k.offsetEnd-q.reduce(Ke,0));return}let M=0,V=k.scrollStart-k.offsetStart,W=V;if(V<=H&&V+k.scrollViewSize>=T.value)V-=T.value,M=F.value.from,W=V;else for(let S=0;V>=q[S]&&M<R;S++)V-=q[S],M+=Se;for(;V>0&&M<R;)V-=f[M],V>-k.scrollViewSize?(M++,W=V):W=f[M]+V;be(b,k,M,W)}function be(b,k,R,H,K){const M=typeof K=="string"&&K.indexOf("-force")>-1,V=M===!0?K.replace("-force",""):K,W=V!==void 0?V:"start";let S=Math.max(0,R-O.value[W]),U=S+O.value.total;U>e.value&&(U=e.value,S=Math.max(0,U-O.value.total)),g=k.scrollStart;const re=S!==F.value.from||U!==F.value.to;if(re===!1&&V===void 0){Ce(R);return}const{activeElement:ke}=document,ne=j.value;re===!0&&ne!==null&&ne!==ke&&ne.contains(ke)===!0&&(ne.addEventListener("focusout",ye),setTimeout(()=>{ne!==null&&ne.removeEventListener("focusout",ye)})),dn(ne,R-S);const Te=V!==void 0?f.slice(S,R).reduce(Ke,0):0;if(re===!0){const ve=U>=F.value.from&&S<=F.value.to?F.value.to:U;F.value={from:S,to:ve},T.value=lt(q,f,0,S),_.value=lt(q,f,U,e.value),requestAnimationFrame(()=>{F.value.to!==U&&g===k.scrollStart&&(F.value={from:F.value.from,to:U},_.value=lt(q,f,U,e.value))})}requestAnimationFrame(()=>{if(g!==k.scrollStart)return;re===!0&&ce(S);const ve=f.slice(S,R).reduce(Ke,0),xe=ve+k.offsetStart+T.value,pe=xe+f[R];let Be=xe+H;if(V!==void 0){const Ue=ve-Te,ee=k.scrollStart+Ue;Be=M!==!0&&ee<xe&&pe<ee+k.scrollViewSize?ee:V==="end"?pe-k.scrollViewSize:xe-(V==="start"?0:Math.round((k.scrollViewSize-f[R])/2))}g=Be,Kt(b,Be,r.virtualScrollHorizontal,d.lang.rtl),Ce(R)})}function ce(b){const k=j.value;if(k){const R=fl.call(k.children,S=>S.classList&&S.classList.contains("q-virtual-scroll--skip")===!1),H=R.length,K=r.virtualScrollHorizontal===!0?S=>S.getBoundingClientRect().width:S=>S.offsetHeight;let M=b,V,W;for(let S=0;S<H;){for(V=K(R[S]),S++;S<H&&R[S].classList.contains("q-virtual-scroll--with-prev")===!0;)V+=K(R[S]),S++;W=V-f[M],W!==0&&(f[M]+=W,q[Math.floor(M/Se)]+=W),M++}}}function ye(){j.value!==null&&j.value!==void 0&&j.value.focus()}function de(b,k){const R=1*a.value;(k===!0||Array.isArray(f)===!1)&&(f=[]);const H=f.length;f.length=e.value;for(let M=e.value-1;M>=H;M--)f[M]=R;const K=Math.floor((e.value-1)/Se);q=[];for(let M=0;M<=K;M++){let V=0;const W=Math.min((M+1)*Se,e.value);for(let S=M*Se;S<W;S++)V+=f[S];q.push(V)}o=-1,g=void 0,T.value=lt(q,f,0,F.value.from),_.value=lt(q,f,F.value.to,e.value),b>=0?(ce(F.value.from),he(()=>{J(b)})):le()}function ue(b){if(b===void 0&&typeof window!="undefined"){const V=l();V!=null&&V.nodeType!==8&&(b=Vt(V,n(),D.value,L.value,r.virtualScrollHorizontal,d.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd).scrollViewSize)}h=b;const k=parseFloat(r.virtualScrollSliceRatioBefore)||0,R=parseFloat(r.virtualScrollSliceRatioAfter)||0,H=1+k+R,K=b===void 0||b<=0?1:Math.ceil(b/a.value),M=Math.max(1,K,Math.ceil((r.virtualScrollSliceSize>0?r.virtualScrollSliceSize:10)/H));O.value={total:Math.ceil(M*H),start:Math.ceil(M*k),center:Math.ceil(M*(.5+k)),end:Math.ceil(M*(1+k)),view:K}}function we(b,k){const R=r.virtualScrollHorizontal===!0?"width":"height",H={["--q-virtual-scroll-item-"+R]:a.value+"px"};return[b==="tbody"?v(b,{class:"q-virtual-scroll__padding",key:"before",ref:D},[v("tr",[v("td",{style:{[R]:`${T.value}px`,...H},colspan:A.value})])]):v(b,{class:"q-virtual-scroll__padding",key:"before",ref:D,style:{[R]:`${T.value}px`,...H}}),v(b,{class:"q-virtual-scroll__content",key:"content",ref:j,tabindex:-1},k.flat()),b==="tbody"?v(b,{class:"q-virtual-scroll__padding",key:"after",ref:L},[v("tr",[v("td",{style:{[R]:`${_.value}px`,...H},colspan:A.value})])]):v(b,{class:"q-virtual-scroll__padding",key:"after",ref:L,style:{[R]:`${_.value}px`,...H}})]}function Ce(b){o!==b&&(r.onVirtualScroll!==void 0&&u("virtualScroll",{index:b,from:F.value.from,to:F.value.to-1,direction:b<o?"decrease":"increase",ref:c}),o=b)}ue();const le=xl(G,d.platform.is.ios===!0?120:35);Bt(()=>{ue()});let x=!1;return al(()=>{x=!0}),ol(()=>{if(x!==!0)return;const b=l();g!==void 0&&b!==void 0&&b!==null&&b.nodeType!==8?Kt(b,g,r.virtualScrollHorizontal,d.lang.rtl):J(o)}),Le(()=>{le.cancel()}),Object.assign(c,{scrollTo:J,reset:se,refresh:fe}),{virtualScrollSliceRange:F,virtualScrollSliceSizeComputed:O,setVirtualScrollSize:ue,onVirtualScrollEvt:le,localResetVirtualScroll:de,padVirtualScroll:we,scrollTo:J,reset:se,refresh:fe}}const fn={list:tn,table:sn},vn=["list","table","__qtable"];var mn=Pe({name:"QVirtualScroll",props:{...gl,type:{type:String,default:"list",validator:e=>vn.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:l,attrs:n}){let a;const i=I(null),r=m(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:u,localResetVirtualScroll:c,padVirtualScroll:d,onVirtualScrollEvt:g}=hl({virtualScrollLength:r,getVirtualScrollTarget:T,getVirtualScrollEl:f}),o=m(()=>{if(r.value===0)return[];const L=(j,F)=>({index:u.value.from+F,item:j});return e.itemsFn===void 0?e.items.slice(u.value.from,u.value.to).map(L):e.itemsFn(u.value.from,u.value.to-u.value.from).map(L)}),h=m(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),q=m(()=>e.scrollTarget!==void 0?{}:{tabindex:0});Y(r,()=>{c()}),Y(()=>e.scrollTarget,()=>{O(),_()});function f(){return i.value.$el||i.value}function T(){return a}function _(){a=il(f(),e.scrollTarget),a.addEventListener("scroll",g,it.passive)}function O(){a!==void 0&&(a.removeEventListener("scroll",g,it.passive),a=void 0)}function D(){let L=d(e.type==="list"?"div":"tbody",o.value.map(l.default));return l.before!==void 0&&(L=l.before().concat(L)),Mt(l.after,L)}return Bt(()=>{c()}),Ft(()=>{_()}),ol(()=>{_()}),al(()=>{O()}),Le(()=>{O()}),()=>{if(l.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?dl({ref:i,class:"q-table__middle "+h.value},D()):v(fn[e.type],{...n,ref:i,class:[n.class,h.value],...q.value},D)}}}),gn=Pe({name:"QField",inheritAttrs:!1,props:At,emits:ul,setup(){return rl(sl())}}),hn=Pe({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const n=m(()=>parseInt(e.lines,10)),a=m(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),i=m(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>v("div",{style:i.value,class:a.value},ot(l.default))}});const Sn={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function bn({showing:e,avoidEmit:l,configureAnchorEl:n}){const{props:a,proxy:i,emit:r}=Ve(),u=I(null);let c=null;function d(f){return u.value===null?!1:f===void 0||f.touches===void 0||f.touches.length<=1}const g={};n===void 0&&(Object.assign(g,{hide(f){i.hide(f)},toggle(f){i.toggle(f),f.qAnchorHandled=!0},toggleKey(f){cl(f,13)===!0&&g.toggle(f)},contextClick(f){i.hide(f),at(f),he(()=>{i.show(f),f.qAnchorHandled=!0})},prevent:at,mobileTouch(f){if(g.mobileCleanup(f),d(f)!==!0)return;i.hide(f),u.value.classList.add("non-selectable");const T=f.target;It(g,"anchor",[[T,"touchmove","mobileCleanup","passive"],[T,"touchend","mobileCleanup","passive"],[T,"touchcancel","mobileCleanup","passive"],[u.value,"contextmenu","prevent","notPassive"]]),c=setTimeout(()=>{c=null,i.show(f),f.qAnchorHandled=!0},300)},mobileCleanup(f){u.value.classList.remove("non-selectable"),c!==null&&(clearTimeout(c),c=null),e.value===!0&&f!==void 0&&ln()}}),n=function(f=a.contextMenu){if(a.noParentEvent===!0||u.value===null)return;let T;f===!0?i.$q.platform.is.mobile===!0?T=[[u.value,"touchstart","mobileTouch","passive"]]:T=[[u.value,"mousedown","hide","passive"],[u.value,"contextmenu","contextClick","notPassive"]]:T=[[u.value,"click","toggle","passive"],[u.value,"keyup","toggleKey","passive"]],It(g,"anchor",T)});function o(){ql(g,"anchor")}function h(f){for(u.value=f;u.value.classList.contains("q-anchor--skip");)u.value=u.value.parentNode;n()}function q(){if(a.target===!1||a.target===""||i.$el.parentNode===null)u.value=null;else if(a.target===!0)h(i.$el.parentNode);else{let f=a.target;if(typeof a.target=="string")try{f=document.querySelector(a.target)}catch{f=void 0}f!=null?(u.value=f.$el||f,n()):(u.value=null,console.error(`Anchor: target "${a.target}" not found`))}}return Y(()=>a.contextMenu,f=>{u.value!==null&&(o(),n(f))}),Y(()=>a.target,()=>{u.value!==null&&o(),q()}),Y(()=>a.noParentEvent,f=>{u.value!==null&&(f===!0?o():n())}),Ft(()=>{q(),l!==!0&&a.modelValue===!0&&u.value===null&&r("update:modelValue",!1)}),Le(()=>{c!==null&&clearTimeout(c),o()}),{anchorEl:u,canShow:d,anchorEvents:g}}function yn(e,l){const n=I(null);let a;function i(c,d){const g=`${d!==void 0?"add":"remove"}EventListener`,o=d!==void 0?d:a;c!==window&&c[g]("scroll",o,it.passive),window[g]("scroll",o,it.passive),a=d}function r(){n.value!==null&&(i(n.value),n.value=null)}const u=Y(()=>e.noParentEvent,()=>{n.value!==null&&(r(),l())});return Le(u),{localScrollTarget:n,unconfigureScrollTarget:r,changeScrollEvent:i}}const{notPassiveCapture:ht}=it,Ee=[];function St(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let n=$t.length-1;for(;n>=0;){const a=$t[n].$;if(a.type.name!=="QDialog")break;if(a.props.seamless!==!0)return;n--}for(let a=Ee.length-1;a>=0;a--){const i=Ee[a];if((i.anchorEl.value===null||i.anchorEl.value.contains(l)===!1)&&(l===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(l)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function wn(e){Ee.push(e),Ee.length===1&&(document.addEventListener("mousedown",St,ht),document.addEventListener("touchstart",St,ht))}function Ut(e){const l=Ee.findIndex(n=>n===e);l>-1&&(Ee.splice(l,1),Ee.length===0&&(document.removeEventListener("mousedown",St,ht),document.removeEventListener("touchstart",St,ht)))}let Xt,Yt;function Gt(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Cn(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Ot={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Ot[`${e}#ltr`]=e,Ot[`${e}#rtl`]=e});function Jt(e,l){const n=e.split(" ");return{vertical:n[0],horizontal:Ot[`${n[1]}#${l===!0?"rtl":"ltr"}`]}}function xn(e,l){let{top:n,left:a,right:i,bottom:r,width:u,height:c}=e.getBoundingClientRect();return l!==void 0&&(n-=l[1],a-=l[0],r+=l[1],i+=l[0],u+=l[0],c+=l[1]),{top:n,bottom:r,height:c,left:a,right:i,width:u,middle:a+(i-a)/2,center:n+(r-n)/2}}function qn(e,l,n){let{top:a,left:i}=e.getBoundingClientRect();return a+=l.top,i+=l.left,n!==void 0&&(a+=n[1],i+=n[0]),{top:a,bottom:a+1,height:1,left:i,right:i+1,width:1,middle:i,center:a}}function kn(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function Zt(e,l,n){return{top:e[n.anchorOrigin.vertical]-l[n.selfOrigin.vertical],left:e[n.anchorOrigin.horizontal]-l[n.selfOrigin.horizontal]}}function _n(e){if(kl.is.ios===!0&&window.visualViewport!==void 0){const c=document.body.style,{offsetLeft:d,offsetTop:g}=window.visualViewport;d!==Xt&&(c.setProperty("--q-pe-left",d+"px"),Xt=d),g!==Yt&&(c.setProperty("--q-pe-top",g+"px"),Yt=g)}const{scrollLeft:l,scrollTop:n}=e.el,a=e.absoluteOffset===void 0?xn(e.anchorEl,e.cover===!0?[0,0]:e.offset):qn(e.anchorEl,e.absoluteOffset,e.offset);let i={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(i.minWidth=a.width+"px",e.cover===!0&&(i.minHeight=a.height+"px")),Object.assign(e.el.style,i);const r=kn(e.el);let u=Zt(a,r,e);if(e.absoluteOffset===void 0||e.offset===void 0)Tt(u,a,r,e.anchorOrigin,e.selfOrigin);else{const{top:c,left:d}=u;Tt(u,a,r,e.anchorOrigin,e.selfOrigin);let g=!1;if(u.top!==c){g=!0;const o=2*e.offset[1];a.center=a.top-=o,a.bottom-=o+2}if(u.left!==d){g=!0;const o=2*e.offset[0];a.middle=a.left-=o,a.right-=o+2}g===!0&&(u=Zt(a,r,e),Tt(u,a,r,e.anchorOrigin,e.selfOrigin))}i={top:u.top+"px",left:u.left+"px"},u.maxHeight!==void 0&&(i.maxHeight=u.maxHeight+"px",a.height>u.maxHeight&&(i.minHeight=i.maxHeight)),u.maxWidth!==void 0&&(i.maxWidth=u.maxWidth+"px",a.width>u.maxWidth&&(i.minWidth=i.maxWidth)),Object.assign(e.el.style,i),e.el.scrollTop!==n&&(e.el.scrollTop=n),e.el.scrollLeft!==l&&(e.el.scrollLeft=l)}function Tt(e,l,n,a,i){const r=n.bottom,u=n.right,c=_l(),d=window.innerHeight-c,g=document.body.clientWidth;if(e.top<0||e.top+r>d)if(i.vertical==="center")e.top=l[a.vertical]>d/2?Math.max(0,d-r):0,e.maxHeight=Math.min(r,d);else if(l[a.vertical]>d/2){const o=Math.min(d,a.vertical==="center"?l.center:a.vertical===i.vertical?l.bottom:l.top);e.maxHeight=Math.min(r,o),e.top=Math.max(0,o-r)}else e.top=Math.max(0,a.vertical==="center"?l.center:a.vertical===i.vertical?l.top:l.bottom),e.maxHeight=Math.min(r,d-e.top);if(e.left<0||e.left+u>g)if(e.maxWidth=Math.min(u,g),i.horizontal==="middle")e.left=l[a.horizontal]>g/2?Math.max(0,g-u):0;else if(l[a.horizontal]>g/2){const o=Math.min(g,a.horizontal==="middle"?l.middle:a.horizontal===i.horizontal?l.right:l.left);e.maxWidth=Math.min(u,o),e.left=Math.max(0,o-e.maxWidth)}else e.left=Math.max(0,a.horizontal==="middle"?l.middle:a.horizontal===i.horizontal?l.left:l.right),e.maxWidth=Math.min(u,g-e.left)}var Pn=Pe({name:"QMenu",inheritAttrs:!1,props:{...Sn,...Pl,...bt,...Vl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Gt},self:{type:String,validator:Gt},offset:{type:Array,validator:Cn},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Tl,"click","escapeKey"],setup(e,{slots:l,emit:n,attrs:a}){let i=null,r,u,c;const d=Ve(),{proxy:g}=d,{$q:o}=g,h=I(null),q=I(!1),f=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),T=yt(e,o),{registerTick:_,removeTick:O}=pl(),{registerTimeout:D}=Ol(),{transitionProps:L,transitionStyle:j}=Rl(e),{localScrollTarget:F,changeScrollEvent:A,unconfigureScrollTarget:Z}=yn(e,R),{anchorEl:ie,canShow:se}=bn({showing:q}),{hide:fe}=Bl({showing:q,canShow:se,handleShow:x,handleHide:b,hideOnRouteChange:f,processOnMount:!0}),{showPortal:J,hidePortal:G,renderPortal:be}=Fl(d,h,W,"menu"),ce={anchorEl:ie,innerRef:h,onClickOutside(S){if(e.persistent!==!0&&q.value===!0)return fe(S),(S.type==="touchstart"||S.target.classList.contains("q-dialog__backdrop"))&&Ae(S),!0}},ye=m(()=>Jt(e.anchor||(e.cover===!0?"center middle":"bottom start"),o.lang.rtl)),de=m(()=>e.cover===!0?ye.value:Jt(e.self||"top start",o.lang.rtl)),ue=m(()=>(e.square===!0?" q-menu--square":"")+(T.value===!0?" q-menu--dark q-dark":"")),we=m(()=>e.autoClose===!0?{onClick:H}:{}),Ce=m(()=>q.value===!0&&e.persistent!==!0);Y(Ce,S=>{S===!0?(Il(M),wn(ce)):(Dt(M),Ut(ce))});function le(){zl(()=>{let S=h.value;S&&S.contains(document.activeElement)!==!0&&(S=S.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||S.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||S.querySelector("[autofocus], [data-autofocus]")||S,S.focus({preventScroll:!0}))})}function x(S){if(i=e.noRefocus===!1?document.activeElement:null,Ml(K),J(),R(),r=void 0,S!==void 0&&(e.touchPosition||e.contextMenu)){const U=Al(S);if(U.left!==void 0){const{top:re,left:ke}=ie.value.getBoundingClientRect();r={left:U.left-ke,top:U.top-re}}}u===void 0&&(u=Y(()=>o.screen.width+"|"+o.screen.height+"|"+e.self+"|"+e.anchor+"|"+o.lang.rtl,V)),e.noFocus!==!0&&document.activeElement.blur(),_(()=>{V(),e.noFocus!==!0&&le()}),D(()=>{o.platform.is.ios===!0&&(c=e.autoClose,h.value.click()),V(),J(!0),n("show",S)},e.transitionDuration)}function b(S){O(),G(),k(!0),i!==null&&(S===void 0||S.qClickOutside!==!0)&&(((S&&S.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),D(()=>{G(!0),n("hide",S)},e.transitionDuration)}function k(S){r=void 0,u!==void 0&&(u(),u=void 0),(S===!0||q.value===!0)&&(El(K),Z(),Ut(ce),Dt(M)),S!==!0&&(i=null)}function R(){(ie.value!==null||e.scrollTarget!==void 0)&&(F.value=il(ie.value,e.scrollTarget),A(F.value,V))}function H(S){c!==!0?(Hl(g,S),n("click",S)):c=!1}function K(S){Ce.value===!0&&e.noFocus!==!0&&$l(h.value,S.target)!==!0&&le()}function M(S){n("escapeKey"),fe(S)}function V(){const S=h.value;S===null||ie.value===null||_n({el:S,offset:e.offset,anchorEl:ie.value,anchorOrigin:ye.value,selfOrigin:de.value,absoluteOffset:r,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function W(){return v(Ll,L.value,()=>q.value===!0?v("div",{role:"menu",...a,ref:h,tabindex:-1,class:["q-menu q-position-engine scroll"+ue.value,a.class],style:[a.style,j.value],...we.value},ot(l.default)):null)}return Le(k),Object.assign(g,{focus:le,updatePosition:V}),be}});const el=e=>["add","add-unique","toggle"].includes(e),Vn=".*+?^${}()|[]\\",Tn=Object.keys(At);var pn=Pe({name:"QSelect",inheritAttrs:!1,props:{...gl,...Dl,...At,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:el},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...ul,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:l,emit:n}){const{proxy:a}=Ve(),{$q:i}=a,r=I(!1),u=I(!1),c=I(-1),d=I(""),g=I(!1),o=I(!1);let h=null,q,f,T,_=null,O,D,L,j;const F=I(null),A=I(null),Z=I(null),ie=I(null),se=I(null),fe=Nl(e),J=Ul(s),G=m(()=>Array.isArray(e.options)?e.options.length:0),be=m(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ce,virtualScrollSliceSizeComputed:ye,localResetVirtualScroll:de,padVirtualScroll:ue,onVirtualScrollEvt:we,scrollTo:Ce,setVirtualScrollSize:le}=hl({virtualScrollLength:G,getVirtualScrollTarget:wt,getVirtualScrollEl:dt,virtualScrollItemSizeComputed:be}),x=sl(),b=m(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,C=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const y=e.mapOptions===!0&&q!==void 0?q:[],B=C.map($=>Re($,y));return e.modelValue===null&&t===!0?B.filter($=>$!==null):B}return C}),k=m(()=>{const t={};return Tn.forEach(C=>{const y=e[C];y!==void 0&&(t[C]=y)}),t}),R=m(()=>e.optionsDark===null?x.isDark.value:e.optionsDark),H=m(()=>Nt(b.value)),K=m(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||b.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),M=m(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),V=m(()=>G.value===0),W=m(()=>b.value.map(t=>ae.value(t)).join(", ")),S=m(()=>e.displayValue!==void 0?e.displayValue:W.value),U=m(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),re=m(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||b.value.some(U.value))),ke=m(()=>x.focused.value===!0?e.tabindex:-1),ne=m(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":r.value===!0?"true":"false","aria-controls":`${x.targetUid.value}_lb`};return c.value>=0&&(t["aria-activedescendant"]=`${x.targetUid.value}_${c.value}`),t}),Te=m(()=>({id:`${x.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ve=m(()=>b.value.map((t,C)=>({index:C,opt:t,html:U.value(t),selected:!0,removeAtIndex:rt,toggleOption:_e,tabindex:ke.value}))),xe=m(()=>{if(G.value===0)return[];const{from:t,to:C}=ce.value;return e.options.slice(t,C).map((y,B)=>{const $=Oe.value(y)===!0,z=t+B,X={clickable:!0,active:!1,activeClass:Ue.value,manualFocus:!0,focused:!1,disable:$,tabindex:-1,dense:e.optionsDense,dark:R.value,role:"option",id:`${x.targetUid.value}_${z}`,onClick:()=>{_e(y)}};return $!==!0&&(He(y)===!0&&(X.active=!0),c.value===z&&(X.focused=!0),X["aria-selected"]=X.active===!0?"true":"false",i.platform.is.desktop===!0&&(X.onMousemove=()=>{r.value===!0&&qe(z)})),{index:z,opt:y,html:U.value(y),label:ae.value(y),selected:X.active,focused:X.focused,toggleOption:_e,setOptionIndex:qe,itemProps:X}})}),pe=m(()=>e.dropdownIcon!==void 0?e.dropdownIcon:i.iconSet.arrow.dropdown),Be=m(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ue=m(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ee=m(()=>Ge(e.optionValue,"value")),ae=m(()=>Ge(e.optionLabel,"label")),Oe=m(()=>Ge(e.optionDisable,"disable")),ze=m(()=>b.value.map(t=>ee.value(t))),ut=m(()=>{const t={onInput:s,onChange:J,onKeydown:Fe,onKeyup:Ie,onKeypress:Ze,onFocus:Je,onClick(C){f===!0&&Qe(C)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=J,t});Y(b,t=>{q=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&x.innerLoading.value!==!0&&(u.value!==!0&&r.value!==!0||H.value!==!0)&&(T!==!0&&We(),(u.value===!0||r.value===!0)&&p(""))},{immediate:!0}),Y(()=>e.fillInput,We),Y(r,kt),Y(G,yl);function Xe(t){return e.emitValue===!0?ee.value(t):t}function Ye(t){if(t>-1&&t<b.value.length)if(e.multiple===!0){const C=e.modelValue.slice();n("remove",{index:t,value:C.splice(t,1)[0]}),n("update:modelValue",C)}else n("update:modelValue",null)}function rt(t){Ye(t),x.focus()}function st(t,C){const y=Xe(t);if(e.multiple!==!0){e.fillInput===!0&&P(ae.value(t),!0,!0),n("update:modelValue",y);return}if(b.value.length===0){n("add",{index:0,value:y}),n("update:modelValue",e.multiple===!0?[y]:y);return}if(C===!0&&He(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const B=e.modelValue.slice();n("add",{index:B.length,value:y}),B.push(y),n("update:modelValue",B)}function _e(t,C){if(x.editable.value!==!0||t===void 0||Oe.value(t)===!0)return;const y=ee.value(t);if(e.multiple!==!0){C!==!0&&(P(e.fillInput===!0?ae.value(t):"",!0,!0),Me()),A.value!==null&&A.value.focus(),(b.value.length===0||et(ee.value(b.value[0]),y)!==!0)&&n("update:modelValue",e.emitValue===!0?y:t);return}if((f!==!0||g.value===!0)&&x.focus(),Je(),b.value.length===0){const z=e.emitValue===!0?y:t;n("add",{index:0,value:z}),n("update:modelValue",e.multiple===!0?[z]:z);return}const B=e.modelValue.slice(),$=ze.value.findIndex(z=>et(z,y));if($>-1)n("remove",{index:$,value:B.splice($,1)[0]});else{if(e.maxValues!==void 0&&B.length>=e.maxValues)return;const z=e.emitValue===!0?y:t;n("add",{index:B.length,value:z}),B.push(z)}n("update:modelValue",B)}function qe(t){if(i.platform.is.desktop!==!0)return;const C=t>-1&&t<G.value?t:-1;c.value!==C&&(c.value=C)}function me(t=1,C){if(r.value===!0){let y=c.value;do y=Qt(y+t,-1,G.value-1);while(y!==-1&&y!==c.value&&Oe.value(e.options[y])===!0);c.value!==y&&(qe(y),Ce(y),C!==!0&&e.useInput===!0&&e.fillInput===!0&&w(y>=0?ae.value(e.options[y]):O))}}function Re(t,C){const y=B=>et(ee.value(B),t);return e.options.find(y)||C.find(y)||t}function Ge(t,C){const y=t!==void 0?t:C;return typeof y=="function"?y:B=>B!==null&&typeof B=="object"&&y in B?B[y]:B}function He(t){const C=ee.value(t);return ze.value.find(y=>et(y,C))!==void 0}function Je(t){e.useInput===!0&&A.value!==null&&(t===void 0||A.value===t.target&&t.target.value===W.value)&&A.value.select()}function ct(t){cl(t,27)===!0&&r.value===!0&&(Qe(t),Me(),We()),n("keyup",t)}function Ie(t){const{value:C}=t.target;if(t.keyCode!==void 0){ct(t);return}if(t.target.value="",h!==null&&(clearTimeout(h),h=null),We(),typeof C=="string"&&C.length>0){const y=C.toLocaleLowerCase(),B=z=>{const X=e.options.find(oe=>z.value(oe).toLocaleLowerCase()===y);return X===void 0?!1:(b.value.indexOf(X)===-1?_e(X):Me(),!0)},$=z=>{B(ee)!==!0&&(B(ae)===!0||z===!0||p(C,!0,()=>$(!0)))};$()}else x.clearValue(t)}function Ze(t){n("keypress",t)}function Fe(t){if(n("keydown",t),Ql(t)===!0)return;const C=d.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),y=t.shiftKey!==!0&&e.multiple!==!0&&(c.value>-1||C===!0);if(t.keyCode===27){at(t);return}if(t.keyCode===9&&y===!1){Ne();return}if(t.target===void 0||t.target.id!==x.targetUid.value)return;if(t.keyCode===40&&x.innerLoading.value!==!0&&r.value===!1){Ae(t),je();return}if(t.keyCode===8&&e.hideSelected!==!0&&d.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ye(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof d.value!="string"||d.value.length===0)&&(Ae(t),c.value=-1,me(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ye.value!==void 0&&(Ae(t),c.value=Math.max(-1,Math.min(G.value,c.value+(t.keyCode===33?-1:1)*ye.value.view)),me(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Ae(t),me(t.keyCode===38?-1:1,e.multiple));const B=G.value;if((L===void 0||j<Date.now())&&(L=""),B>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||L.length>0)){r.value!==!0&&je(t);const $=t.key.toLocaleLowerCase(),z=L.length===1&&L[0]===$;j=Date.now()+1500,z===!1&&(Ae(t),L+=$);const X=new RegExp("^"+L.split("").map(_t=>Vn.indexOf(_t)>-1?"\\"+_t:_t).join(".*"),"i");let oe=c.value;if(z===!0||oe<0||X.test(ae.value(e.options[oe]))!==!0)do oe=Qt(oe+1,-1,B-1);while(oe!==c.value&&(Oe.value(e.options[oe])===!0||X.test(ae.value(e.options[oe]))!==!0));c.value!==oe&&he(()=>{qe(oe),Ce(oe),oe>=0&&e.useInput===!0&&e.fillInput===!0&&w(ae.value(e.options[oe]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||L!=="")&&(t.keyCode!==9||y===!1))){if(t.keyCode!==9&&Ae(t),c.value>-1&&c.value<B){_e(e.options[c.value]);return}if(C===!0){const $=(z,X)=>{if(X){if(el(X)!==!0)return}else X=e.newValueMode;if(z==null)return;P("",e.multiple!==!0,!0),(X==="toggle"?_e:st)(z,X==="add-unique"),e.multiple!==!0&&(A.value!==null&&A.value.focus(),Me())};if(e.onNewValue!==void 0?n("newValue",d.value,$):$(d.value),e.multiple!==!0)return}r.value===!0?Ne():x.innerLoading.value!==!0&&je()}}function dt(){return f===!0?se.value:Z.value!==null&&Z.value.contentEl!==null?Z.value.contentEl:void 0}function wt(){return dt()}function Ct(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?ve.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?ve.value.map((t,C)=>v(on,{key:"option-"+C,removable:x.editable.value===!0&&Oe.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:ke.value,onRemove(){t.removeAtIndex(C)}},()=>v("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:ae.value(t.opt)}))):[v("span",{[re.value===!0?"innerHTML":"textContent"]:S.value})]}function ft(){if(V.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:d.value}):void 0;const t=l.option!==void 0?l.option:y=>v(an,{key:y.index,...y.itemProps},()=>v(nn,()=>v(hn,()=>v("span",{[y.html===!0?"innerHTML":"textContent"]:y.label}))));let C=ue("div",xe.value.map(t));return l["before-options"]!==void 0&&(C=l["before-options"]().concat(C)),Mt(l["after-options"],C)}function xt(t,C){const y=C===!0?{...ne.value,...x.splitAttrs.attributes.value}:void 0,B={ref:C===!0?A:void 0,key:"i_t",class:K.value,style:e.inputStyle,value:d.value!==void 0?d.value:"",type:"search",...y,id:C===!0?x.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ut.value};return t!==!0&&f===!0&&(Array.isArray(B.class)===!0?B.class=[...B.class,"no-pointer-events"]:B.class+=" no-pointer-events"),v("input",B)}function s(t){h!==null&&(clearTimeout(h),h=null),!(t&&t.target&&t.target.qComposing===!0)&&(w(t.target.value||""),T=!0,O=d.value,x.focused.value!==!0&&(f!==!0||g.value===!0)&&x.focus(),e.onFilter!==void 0&&(h=setTimeout(()=>{h=null,p(d.value)},e.inputDebounce)))}function w(t){d.value!==t&&(d.value=t,n("inputValue",t))}function P(t,C,y){T=y!==!0,e.useInput===!0&&(w(t),(C===!0||y!==!0)&&(O=t),C!==!0&&p(t))}function p(t,C,y){if(e.onFilter===void 0||C!==!0&&x.focused.value!==!0)return;x.innerLoading.value===!0?n("filterAbort"):(x.innerLoading.value=!0,o.value=!0),t!==""&&e.multiple!==!0&&b.value.length>0&&T!==!0&&t===ae.value(b.value[0])&&(t="");const B=setTimeout(()=>{r.value===!0&&(r.value=!1)},10);_!==null&&clearTimeout(_),_=B,n("filter",t,($,z)=>{(C===!0||x.focused.value===!0)&&_===B&&(clearTimeout(_),typeof $=="function"&&$(),o.value=!1,he(()=>{x.innerLoading.value=!1,x.editable.value===!0&&(C===!0?r.value===!0&&Me():r.value===!0?kt(!0):r.value=!0),typeof z=="function"&&he(()=>{z(a)}),typeof y=="function"&&he(()=>{y(a)})}))},()=>{x.focused.value===!0&&_===B&&(clearTimeout(_),x.innerLoading.value=!1,o.value=!1),r.value===!0&&(r.value=!1)})}function E(){return v(Pn,{ref:Z,class:M.value,style:e.popupContentStyle,modelValue:r.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&V.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:R.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Be.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Te.value,onScrollPassive:we,onBeforeShow:Lt,onBeforeHide:Q,onShow:N},ft)}function Q(t){zt(t),Ne()}function N(){le()}function ge(t){Qe(t),A.value!==null&&A.value.focus(),g.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function te(t){Qe(t),he(()=>{g.value=!1})}function $e(){const t=[v(gn,{class:`col-auto ${x.fieldClass.value}`,...k.value,for:x.targetUid.value,dark:R.value,square:!0,loading:o.value,itemAligned:!1,filled:!0,stackLabel:d.value.length>0,...x.splitAttrs.listeners.value,onFocus:ge,onBlur:te},{...l,rawControl:()=>x.getControl(!0),before:void 0,after:void 0})];return r.value===!0&&t.push(v("div",{ref:se,class:M.value+" scroll",style:e.popupContentStyle,...Te.value,onClick:at,onScrollPassive:we},ft())),v(Kl,{ref:ie,modelValue:u.value,position:e.useInput===!0?"top":void 0,transitionShow:D,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Lt,onBeforeHide:De,onHide:qt,onShow:bl},()=>v("div",{class:"q-select__dialog"+(R.value===!0?" q-select__dialog--dark q-dark":"")+(g.value===!0?" q-select__dialog--focused":"")},t))}function De(t){zt(t),ie.value!==null&&ie.value.__updateRefocusTarget(x.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),x.focused.value=!1}function qt(t){Me(),x.focused.value===!1&&n("blur",t),We()}function bl(){const t=document.activeElement;(t===null||t.id!==x.targetUid.value)&&A.value!==null&&A.value!==t&&A.value.focus(),le()}function Ne(){u.value!==!0&&(c.value=-1,r.value===!0&&(r.value=!1),x.focused.value===!1&&(_!==null&&(clearTimeout(_),_=null),x.innerLoading.value===!0&&(n("filterAbort"),x.innerLoading.value=!1,o.value=!1)))}function je(t){x.editable.value===!0&&(f===!0?(x.onControlFocusin(t),u.value=!0,he(()=>{x.focus()})):x.focus(),e.onFilter!==void 0?p(d.value):(V.value!==!0||l["no-option"]!==void 0)&&(r.value=!0))}function Me(){u.value=!1,Ne()}function We(){e.useInput===!0&&P(e.multiple!==!0&&e.fillInput===!0&&b.value.length>0&&ae.value(b.value[0])||"",!0,!0)}function kt(t){let C=-1;if(t===!0){if(b.value.length>0){const y=ee.value(b.value[0]);C=e.options.findIndex(B=>et(ee.value(B),y))}de(C)}qe(C)}function yl(t,C){r.value===!0&&x.innerLoading.value===!1&&(de(-1,!0),he(()=>{r.value===!0&&x.innerLoading.value===!1&&(t>C?de():kt(!0))}))}function Et(){u.value===!1&&Z.value!==null&&Z.value.updatePosition()}function Lt(t){t!==void 0&&Qe(t),n("popupShow",t),x.hasPopupOpen=!0,x.onControlFocusin(t)}function zt(t){t!==void 0&&Qe(t),n("popupHide",t),x.hasPopupOpen=!1,x.onControlFocusout(t)}function Ht(){f=i.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||V.value===!1:!0),D=i.platform.is.ios===!0&&f===!0&&e.useInput===!0?"fade":e.transitionShow}return jl(Ht),Wl(Et),Ht(),Le(()=>{h!==null&&clearTimeout(h)}),Object.assign(a,{showPopup:je,hidePopup:Me,removeAtIndex:Ye,add:st,toggleOption:_e,getOptionIndex:()=>c.value,setOptionIndex:qe,moveOptionSelection:me,filter:p,updateMenuPosition:Et,updateInputValue:P,isOptionSelected:He,getEmittingOptionValue:Xe,isOptionDisabled:(...t)=>Oe.value.apply(null,t)===!0,getOptionValue:(...t)=>ee.value.apply(null,t),getOptionLabel:(...t)=>ae.value.apply(null,t)}),Object.assign(x,{innerValue:b,fieldClass:m(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:F,targetRef:A,hasValue:H,showPopup:je,floatingLabel:m(()=>e.hideSelected!==!0&&H.value===!0||typeof d.value=="number"||d.value.length>0||Nt(e.displayValue)),getControlChild:()=>{if(x.editable.value!==!1&&(u.value===!0||V.value!==!0||l["no-option"]!==void 0))return f===!0?$e():E();x.hasPopupOpen===!0&&(x.hasPopupOpen=!1)},controlEvents:{onFocusin(t){x.onControlFocusin(t)},onFocusout(t){x.onControlFocusout(t,()=>{We(),Ne()})},onClick(t){if(at(t),f!==!0&&r.value===!0){Ne(),A.value!==null&&A.value.focus();return}je(t)}},getControl:t=>{const C=Ct(),y=t===!0||u.value!==!0||f!==!0;if(e.useInput===!0)C.push(xt(t,y));else if(x.editable.value===!0){const $=y===!0?ne.value:void 0;C.push(v("input",{ref:y===!0?A:void 0,key:"d_t",class:"q-select__focus-target",id:y===!0?x.targetUid.value:void 0,value:S.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...$,onKeydown:Fe,onKeyup:ct,onKeypress:Ze})),y===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&C.push(v("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ie}))}if(fe.value!==void 0&&e.disable!==!0&&ze.value.length>0){const $=ze.value.map(z=>v("option",{value:z,selected:!0}));C.push(v("select",{class:"hidden",name:fe.value,multiple:e.multiple},$))}const B=e.useInput===!0||y!==!0?void 0:x.splitAttrs.attributes.value;return v("div",{class:"q-field__native row items-center",...B},C)},getInnerAppend:()=>e.loading!==!0&&o.value!==!0&&e.hideDropdownIcon!==!0?[v(Rt,{class:"q-select__dropdown-icon"+(r.value===!0?" rotate-180":""),name:pe.value})]:null}),rl(x)}});const On={xs:2,sm:4,md:6,lg:10,xl:14};function tl(e,l,n){return{transform:l===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var Rn=Pe({name:"QLinearProgress",props:{...bt,...Xl,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:l}){const{proxy:n}=Ve(),a=yt(e,n.$q),i=Yl(e,On),r=m(()=>e.indeterminate===!0||e.query===!0),u=m(()=>e.reverse!==e.query),c=m(()=>({...i.value!==null?i.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),d=m(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),g=m(()=>tl(e.buffer!==void 0?e.buffer:1,u.value,n.$q)),o=m(()=>`with${e.instantFeedback===!0?"out":""}-transition`),h=m(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${o.value} q-linear-progress__track--${a.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),q=m(()=>tl(r.value===!0?1:e.value,u.value,n.$q)),f=m(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${o.value} q-linear-progress__model--${r.value===!0?"in":""}determinate`),T=m(()=>({width:`${e.value*100}%`})),_=m(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${o.value}`);return()=>{const O=[v("div",{class:h.value,style:g.value}),v("div",{class:f.value,style:q.value})];return e.stripe===!0&&r.value===!1&&O.push(v("div",{class:_.value,style:T.value})),v("div",{class:d.value,style:c.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Mt(l.default,O))}}});let nt=0;const Bn={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Fn=["update:fullscreen","fullscreen"];function Mn(){const e=Ve(),{props:l,emit:n,proxy:a}=e;let i,r,u;const c=I(!1);Gl(e)===!0&&Y(()=>a.$route.fullPath,()=>{l.noRouteFullscreenExit!==!0&&o()}),Y(()=>l.fullscreen,h=>{c.value!==h&&d()}),Y(c,h=>{n("update:fullscreen",h),n("fullscreen",h)});function d(){c.value===!0?o():g()}function g(){c.value!==!0&&(c.value=!0,u=a.$el.parentNode,u.replaceChild(r,a.$el),document.body.appendChild(a.$el),nt++,nt===1&&document.body.classList.add("q-body--fullscreen-mixin"),i={handler:o},jt.add(i))}function o(){c.value===!0&&(i!==void 0&&(jt.remove(i),i=void 0),u.replaceChild(a.$el,r),c.value=!1,nt=Math.max(0,nt-1),nt===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),a.$el.scrollIntoView!==void 0&&setTimeout(()=>{a.$el.scrollIntoView()})))}return Bt(()=>{r=document.createElement("span")}),Ft(()=>{l.fullscreen===!0&&g()}),Le(o),Object.assign(a,{toggleFullscreen:d,setFullscreen:g,exitFullscreen:o}),{inFullscreen:c,toggleFullscreen:d}}function An(e,l){return new Date(e)-new Date(l)}const En={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Ln(e,l,n,a){const i=m(()=>{const{sortBy:c}=l.value;return c&&n.value.find(d=>d.name===c)||null}),r=m(()=>e.sortMethod!==void 0?e.sortMethod:(c,d,g)=>{const o=n.value.find(f=>f.name===d);if(o===void 0||o.field===void 0)return c;const h=g===!0?-1:1,q=typeof o.field=="function"?f=>o.field(f):f=>f[o.field];return c.sort((f,T)=>{let _=q(f),O=q(T);return _==null?-1*h:O==null?1*h:o.sort!==void 0?o.sort(_,O,f,T)*h:pt(_)===!0&&pt(O)===!0?(_-O)*h:Wt(_)===!0&&Wt(O)===!0?An(_,O)*h:typeof _=="boolean"&&typeof O=="boolean"?(_-O)*h:([_,O]=[_,O].map(D=>(D+"").toLocaleString().toLowerCase()),_<O?-1*h:_===O?0:h)})});function u(c){let d=e.columnSortOrder;if(Jl(c)===!0)c.sortOrder&&(d=c.sortOrder),c=c.name;else{const h=n.value.find(q=>q.name===c);h!==void 0&&h.sortOrder&&(d=h.sortOrder)}let{sortBy:g,descending:o}=l.value;g!==c?(g=c,o=d==="da"):e.binaryStateSort===!0?o=!o:o===!0?d==="ad"?g=null:o=!1:d==="ad"?o=!0:g=null,a({sortBy:g,descending:o,page:1})}return{columnToSort:i,computedSortMethod:r,sort:u}}const zn={filter:[String,Object],filterMethod:Function};function Hn(e,l){const n=m(()=>e.filterMethod!==void 0?e.filterMethod:(a,i,r,u)=>{const c=i?i.toLowerCase():"";return a.filter(d=>r.some(g=>{const o=u(g,d)+"";return(o==="undefined"||o==="null"?"":o.toLowerCase()).indexOf(c)!==-1}))});return Y(()=>e.filter,()=>{he(()=>{l({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function In(e,l){for(const n in l)if(l[n]!==e[n])return!1;return!0}function ll(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const $n={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Dn(e,l){const{props:n,emit:a}=e,i=I(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length>0?n.rowsPerPageOptions[0]:5},n.pagination)),r=m(()=>{const o=n["onUpdate:pagination"]!==void 0?{...i.value,...n.pagination}:i.value;return ll(o)}),u=m(()=>r.value.rowsNumber!==void 0);function c(o){d({pagination:o,filter:n.filter})}function d(o={}){he(()=>{a("request",{pagination:o.pagination||r.value,filter:o.filter||n.filter,getCellValue:l})})}function g(o,h){const q=ll({...r.value,...o});if(In(r.value,q)===!0){u.value===!0&&h===!0&&c(q);return}if(u.value===!0){c(q);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?a("update:pagination",q):i.value=q}return{innerPagination:i,computedPagination:r,isServerSide:u,requestServerInteraction:d,setPagination:g}}function Nn(e,l,n,a,i,r){const{props:u,emit:c,proxy:{$q:d}}=e,g=m(()=>a.value===!0?n.value.rowsNumber||0:r.value),o=m(()=>{const{page:F,rowsPerPage:A}=n.value;return(F-1)*A}),h=m(()=>{const{page:F,rowsPerPage:A}=n.value;return F*A}),q=m(()=>n.value.page===1),f=m(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(g.value/n.value.rowsPerPage))),T=m(()=>h.value===0?!0:n.value.page>=f.value),_=m(()=>(u.rowsPerPageOptions.includes(l.value.rowsPerPage)?u.rowsPerPageOptions:[l.value.rowsPerPage].concat(u.rowsPerPageOptions)).map(A=>({label:A===0?d.lang.table.allRows:""+A,value:A})));Y(f,(F,A)=>{if(F===A)return;const Z=n.value.page;F&&!Z?i({page:1}):F<Z&&i({page:F})});function O(){i({page:1})}function D(){const{page:F}=n.value;F>1&&i({page:F-1})}function L(){const{page:F,rowsPerPage:A}=n.value;h.value>0&&F*A<g.value&&i({page:F+1})}function j(){i({page:f.value})}return u["onUpdate:pagination"]!==void 0&&c("update:pagination",{...n.value}),{firstRowIndex:o,lastRowIndex:h,isFirstPage:q,isLastPage:T,pagesNumber:f,computedRowsPerPageOptions:_,computedRowsNumber:g,firstPage:O,prevPage:D,nextPage:L,lastPage:j}}const jn={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Wn=["update:selected","selection"];function Qn(e,l,n,a){const i=m(()=>{const T={};return e.selected.map(a.value).forEach(_=>{T[_]=!0}),T}),r=m(()=>e.selection!=="none"),u=m(()=>e.selection==="single"),c=m(()=>e.selection==="multiple"),d=m(()=>n.value.length>0&&n.value.every(T=>i.value[a.value(T)]===!0)),g=m(()=>d.value!==!0&&n.value.some(T=>i.value[a.value(T)]===!0)),o=m(()=>e.selected.length);function h(T){return i.value[T]===!0}function q(){l("update:selected",[])}function f(T,_,O,D){l("selection",{rows:_,added:O,keys:T,evt:D});const L=u.value===!0?O===!0?_:[]:O===!0?e.selected.concat(_):e.selected.filter(j=>T.includes(a.value(j))===!1);l("update:selected",L)}return{hasSelectionMode:r,singleSelection:u,multipleSelection:c,allRowsSelected:d,someRowsSelected:g,rowsSelectedNumber:o,isRowSelected:h,clearSelection:q,updateSelection:f}}function nl(e){return Array.isArray(e)?e.slice():[]}const Kn={expanded:Array},Un=["update:expanded"];function Xn(e,l){const n=I(nl(e.expanded));Y(()=>e.expanded,u=>{n.value=nl(u)});function a(u){return n.value.includes(u)}function i(u){e.expanded!==void 0?l("update:expanded",u):n.value=u}function r(u,c){const d=n.value.slice(),g=d.indexOf(u);c===!0?g===-1&&(d.push(u),i(d)):g!==-1&&(d.splice(g,1),i(d))}return{isRowExpanded:a,setExpanded:i,updateExpanded:r}}const Yn={visibleColumns:Array};function Gn(e,l,n){const a=m(()=>{if(e.columns!==void 0)return e.columns;const c=e.rows[0];return c!==void 0?Object.keys(c).map(d=>({name:d,label:d.toUpperCase(),field:d,align:pt(c[d])?"right":"left",sortable:!0})):[]}),i=m(()=>{const{sortBy:c,descending:d}=l.value;return(e.visibleColumns!==void 0?a.value.filter(o=>o.required===!0||e.visibleColumns.includes(o.name)===!0):a.value).map(o=>{const h=o.align||"right",q=`text-${h}`;return{...o,align:h,__iconClass:`q-table__sort-icon q-table__sort-icon--${h}`,__thClass:q+(o.headerClasses!==void 0?" "+o.headerClasses:"")+(o.sortable===!0?" sortable":"")+(o.name===c?` sorted ${d===!0?"sort-desc":""}`:""),__tdStyle:o.style!==void 0?typeof o.style!="function"?()=>o.style:o.style:()=>null,__tdClass:o.classes!==void 0?typeof o.classes!="function"?()=>q+" "+o.classes:f=>q+" "+o.classes(f):()=>q}})}),r=m(()=>{const c={};return i.value.forEach(d=>{c[d.name]=d}),c}),u=m(()=>e.tableColspan!==void 0?e.tableColspan:i.value.length+(n.value===!0?1:0));return{colList:a,computedCols:i,computedColsMap:r,computedColspan:u}}const mt="q-table__bottom row items-center",Sl={};ml.forEach(e=>{Sl[e]={}});var la=Pe({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...Sl,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...bt,...Bn,...Yn,...zn,...$n,...Kn,...jn,...En},emits:["request","virtualScroll",...Fn,...Un,...Wn],setup(e,{slots:l,emit:n}){const a=Ve(),{proxy:{$q:i}}=a,r=yt(e,i),{inFullscreen:u,toggleFullscreen:c}=Mn(),d=m(()=>typeof e.rowKey=="function"?e.rowKey:s=>s[e.rowKey]),g=I(null),o=I(null),h=m(()=>e.grid!==!0&&e.virtualScroll===!0),q=m(()=>" q-table__card"+(r.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),f=m(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":q.value)+(r.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(u.value===!0?" fullscreen scroll":"")),T=m(()=>f.value+(e.loading===!0?" q-table--loading":""));Y(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+f.value,()=>{h.value===!0&&o.value!==null&&o.value.reset()});const{innerPagination:_,computedPagination:O,isServerSide:D,requestServerInteraction:L,setPagination:j}=Dn(a,me),{computedFilterMethod:F}=Hn(e,j),{isRowExpanded:A,setExpanded:Z,updateExpanded:ie}=Xn(e,n),se=m(()=>{let s=e.rows;if(D.value===!0||s.length===0)return s;const{sortBy:w,descending:P}=O.value;return e.filter&&(s=F.value(s,e.filter,b.value,me)),H.value!==null&&(s=K.value(e.rows===s?s.slice():s,w,P)),s}),fe=m(()=>se.value.length),J=m(()=>{let s=se.value;if(D.value===!0)return s;const{rowsPerPage:w}=O.value;return w!==0&&(V.value===0&&e.rows!==s?s.length>W.value&&(s=s.slice(0,W.value)):s=s.slice(V.value,W.value)),s}),{hasSelectionMode:G,singleSelection:be,multipleSelection:ce,allRowsSelected:ye,someRowsSelected:de,rowsSelectedNumber:ue,isRowSelected:we,clearSelection:Ce,updateSelection:le}=Qn(e,n,J,d),{colList:x,computedCols:b,computedColsMap:k,computedColspan:R}=Gn(e,O,G),{columnToSort:H,computedSortMethod:K,sort:M}=Ln(e,O,x,j),{firstRowIndex:V,lastRowIndex:W,isFirstPage:S,isLastPage:U,pagesNumber:re,computedRowsPerPageOptions:ke,computedRowsNumber:ne,firstPage:Te,prevPage:ve,nextPage:xe,lastPage:pe}=Nn(a,_,O,D,j,fe),Be=m(()=>J.value.length===0),Ue=m(()=>{const s={};return ml.forEach(w=>{s[w]=e[w]}),s.virtualScrollItemSize===void 0&&(s.virtualScrollItemSize=e.dense===!0?28:48),s});function ee(){h.value===!0&&o.value.reset()}function ae(){if(e.grid===!0)return xt();const s=e.hideHeader!==!0?Je:null;if(h.value===!0){const P=l["top-row"],p=l["bottom-row"],E={default:Q=>Xe(Q.item,l.body,Q.index)};if(P!==void 0){const Q=v("tbody",P({cols:b.value}));E.before=s===null?()=>Q:()=>[s()].concat(Q)}else s!==null&&(E.before=s);return p!==void 0&&(E.after=()=>v("tbody",p({cols:b.value}))),v(mn,{ref:o,class:e.tableClass,style:e.tableStyle,...Ue.value,scrollTarget:e.virtualScrollTarget,items:J.value,type:"__qtable",tableColspan:R.value,onVirtualScroll:ze},E)}const w=[Ye()];return s!==null&&w.unshift(s()),dl({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},w)}function Oe(s,w){if(o.value!==null){o.value.scrollTo(s,w);return}s=parseInt(s,10);const P=g.value.querySelector(`tbody tr:nth-of-type(${s+1})`);if(P!==null){const p=g.value.querySelector(".q-table__middle.scroll"),E=P.offsetTop-e.virtualScrollStickySizeStart,Q=E<p.scrollTop?"decrease":"increase";p.scrollTop=E,n("virtualScroll",{index:s,from:0,to:_.value.rowsPerPage-1,direction:Q})}}function ze(s){n("virtualScroll",s)}function ut(){return[v(Rn,{class:"q-table__linear-progress",color:e.color,dark:r.value,indeterminate:!0,trackColor:"transparent"})]}function Xe(s,w,P){const p=d.value(s),E=we(p);if(w!==void 0)return w(rt({key:p,row:s,pageIndex:P,__trClass:E?"selected":""}));const Q=l["body-cell"],N=b.value.map(te=>{const $e=l[`body-cell-${te.name}`],De=$e!==void 0?$e:Q;return De!==void 0?De(st({key:p,row:s,pageIndex:P,col:te})):v("td",{class:te.__tdClass(s),style:te.__tdStyle(s)},me(te,s))});if(G.value===!0){const te=l["body-selection"],$e=te!==void 0?te(_e({key:p,row:s,pageIndex:P})):[v(Pt,{modelValue:E,color:e.color,dark:r.value,dense:e.dense,"onUpdate:modelValue":(De,qt)=>{le([p],[s],De,qt)}})];N.unshift(v("td",{class:"q-table--col-auto-width"},$e))}const ge={key:p,class:{selected:E}};return e.onRowClick!==void 0&&(ge.class["cursor-pointer"]=!0,ge.onClick=te=>{n("RowClick",te,s,P)}),e.onRowDblclick!==void 0&&(ge.class["cursor-pointer"]=!0,ge.onDblclick=te=>{n("RowDblclick",te,s,P)}),e.onRowContextmenu!==void 0&&(ge.class["cursor-pointer"]=!0,ge.onContextmenu=te=>{n("RowContextmenu",te,s,P)}),v("tr",ge,N)}function Ye(){const s=l.body,w=l["top-row"],P=l["bottom-row"];let p=J.value.map((E,Q)=>Xe(E,s,Q));return w!==void 0&&(p=w({cols:b.value}).concat(p)),P!==void 0&&(p=p.concat(P({cols:b.value}))),v("tbody",p)}function rt(s){return qe(s),s.cols=s.cols.map(w=>tt({...w},"value",()=>me(w,s.row))),s}function st(s){return qe(s),tt(s,"value",()=>me(s.col,s.row)),s}function _e(s){return qe(s),s}function qe(s){Object.assign(s,{cols:b.value,colsMap:k.value,sort:M,rowIndex:V.value+s.pageIndex,color:e.color,dark:r.value,dense:e.dense}),G.value===!0&&tt(s,"selected",()=>we(s.key),(w,P)=>{le([s.key],[s.row],w,P)}),tt(s,"expand",()=>A(s.key),w=>{ie(s.key,w)})}function me(s,w){const P=typeof s.field=="function"?s.field(w):w[s.field];return s.format!==void 0?s.format(P,w):P}const Re=m(()=>({pagination:O.value,pagesNumber:re.value,isFirstPage:S.value,isLastPage:U.value,firstPage:Te,prevPage:ve,nextPage:xe,lastPage:pe,inFullscreen:u.value,toggleFullscreen:c}));function Ge(){const s=l.top,w=l["top-left"],P=l["top-right"],p=l["top-selection"],E=G.value===!0&&p!==void 0&&ue.value>0,Q="q-table__top relative-position row items-center";if(s!==void 0)return v("div",{class:Q},[s(Re.value)]);let N;if(E===!0?N=p(Re.value).slice():(N=[],w!==void 0?N.push(v("div",{class:"q-table-control"},[w(Re.value)])):e.title&&N.push(v("div",{class:"q-table__control"},[v("div",{class:["q-table__title",e.titleClass]},e.title)]))),P!==void 0&&(N.push(v("div",{class:"q-table__separator col"})),N.push(v("div",{class:"q-table__control"},[P(Re.value)]))),N.length!==0)return v("div",{class:Q},N)}const He=m(()=>de.value===!0?null:ye.value);function Je(){const s=ct();return e.loading===!0&&l.loading===void 0&&s.push(v("tr",{class:"q-table__progress"},[v("th",{class:"relative-position",colspan:R.value},ut())])),v("thead",s)}function ct(){const s=l.header,w=l["header-cell"];if(s!==void 0)return s(Ie({header:!0})).slice();const P=b.value.map(p=>{const E=l[`header-cell-${p.name}`],Q=E!==void 0?E:w,N=Ie({col:p});return Q!==void 0?Q(N):v(un,{key:p.name,props:N},()=>p.label)});if(be.value===!0&&e.grid!==!0)P.unshift(v("th",{class:"q-table--col-auto-width"}," "));else if(ce.value===!0){const p=l["header-selection"],E=p!==void 0?p(Ie({})):[v(Pt,{color:e.color,modelValue:He.value,dark:r.value,dense:e.dense,"onUpdate:modelValue":Ze})];P.unshift(v("th",{class:"q-table--col-auto-width"},E))}return[v("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},P)]}function Ie(s){return Object.assign(s,{cols:b.value,sort:M,colsMap:k.value,color:e.color,dark:r.value,dense:e.dense}),ce.value===!0&&tt(s,"selected",()=>He.value,Ze),s}function Ze(s){de.value===!0&&(s=!1),le(J.value.map(d.value),J.value,s)}const Fe=m(()=>{const s=[e.iconFirstPage||i.iconSet.table.firstPage,e.iconPrevPage||i.iconSet.table.prevPage,e.iconNextPage||i.iconSet.table.nextPage,e.iconLastPage||i.iconSet.table.lastPage];return i.lang.rtl===!0?s.reverse():s});function dt(){if(e.hideBottom===!0)return;if(Be.value===!0){if(e.hideNoData===!0)return;const P=e.loading===!0?e.loadingLabel||i.lang.table.loading:e.filter?e.noResultsLabel||i.lang.table.noResults:e.noDataLabel||i.lang.table.noData,p=l["no-data"],E=p!==void 0?[p({message:P,icon:i.iconSet.table.warning,filter:e.filter})]:[v(Rt,{class:"q-table__bottom-nodata-icon",name:i.iconSet.table.warning}),P];return v("div",{class:mt+" q-table__bottom--nodata"},E)}const s=l.bottom;if(s!==void 0)return v("div",{class:mt},[s(Re.value)]);const w=e.hideSelectedBanner!==!0&&G.value===!0&&ue.value>0?[v("div",{class:"q-table__control"},[v("div",[(e.selectedRowsLabel||i.lang.table.selectedRecords)(ue.value)])])]:[];if(e.hidePagination!==!0)return v("div",{class:mt+" justify-end"},Ct(w));if(w.length>0)return v("div",{class:mt},w)}function wt(s){j({page:1,rowsPerPage:s.value})}function Ct(s){let w;const{rowsPerPage:P}=O.value,p=e.paginationLabel||i.lang.table.pagination,E=l.pagination,Q=e.rowsPerPageOptions.length>1;if(s.push(v("div",{class:"q-table__separator col"})),Q===!0&&s.push(v("div",{class:"q-table__control"},[v("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||i.lang.table.recordsPerPage]),v(pn,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:P,options:ke.value,displayValue:P===0?i.lang.table.allRows:P,dark:r.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":wt})])),E!==void 0)w=E(Re.value);else if(w=[v("span",P!==0?{class:"q-table__bottom-item"}:{},[P?p(V.value+1,Math.min(W.value,ne.value),ne.value):p(1,fe.value,ne.value)])],P!==0&&re.value>1){const N={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(N.size="sm"),re.value>2&&w.push(v(vt,{key:"pgFirst",...N,icon:Fe.value[0],disable:S.value,onClick:Te})),w.push(v(vt,{key:"pgPrev",...N,icon:Fe.value[1],disable:S.value,onClick:ve}),v(vt,{key:"pgNext",...N,icon:Fe.value[2],disable:U.value,onClick:xe})),re.value>2&&w.push(v(vt,{key:"pgLast",...N,icon:Fe.value[3],disable:U.value,onClick:pe}))}return s.push(v("div",{class:"q-table__control"},w)),s}function ft(){const s=e.gridHeader===!0?[v("table",{class:"q-table"},[Je()])]:e.loading===!0&&l.loading===void 0?ut():void 0;return v("div",{class:"q-table__middle"},s)}function xt(){const s=l.item!==void 0?l.item:w=>{const P=w.cols.map(E=>v("div",{class:"q-table__grid-item-row"},[v("div",{class:"q-table__grid-item-title"},[E.label]),v("div",{class:"q-table__grid-item-value"},[E.value])]));if(G.value===!0){const E=l["body-selection"],Q=E!==void 0?E(w):[v(Pt,{modelValue:w.selected,color:e.color,dark:r.value,dense:e.dense,"onUpdate:modelValue":(N,ge)=>{le([w.key],[w.row],N,ge)}})];P.unshift(v("div",{class:"q-table__grid-item-row"},Q),v(en,{dark:r.value}))}const p={class:["q-table__grid-item-card"+q.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(p.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(p.onClick=E=>{n("RowClick",E,w.row,w.pageIndex)}),e.onRowDblclick!==void 0&&(p.onDblclick=E=>{n("RowDblclick",E,w.row,w.pageIndex)})),v("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(w.selected===!0?" q-table__grid-item--selected":"")},[v("div",p,P)])};return v("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},J.value.map((w,P)=>s(rt({key:d.value(w),row:w,pageIndex:P}))))}return Object.assign(a.proxy,{requestServerInteraction:L,setPagination:j,firstPage:Te,prevPage:ve,nextPage:xe,lastPage:pe,isRowSelected:we,clearSelection:Ce,isRowExpanded:A,setExpanded:Z,sort:M,resetVirtualScroll:ee,scrollTo:Oe,getCellValue:me}),Zl(a.proxy,{filteredSortedRows:()=>se.value,computedRows:()=>J.value,computedRowsNumber:()=>ne.value}),()=>{const s=[Ge()],w={ref:g,class:T.value};return e.grid===!0?s.push(ft()):Object.assign(w,{class:[w.class,e.cardClass],style:e.cardStyle}),s.push(ae(),dt()),e.loading===!0&&l.loading!==void 0&&s.push(l.loading()),v("div",w,s)}}});export{Pn as Q,bn as a,la as b,pn as c,un as d,Sn as u};
